import{_ as A}from"./B1_csP8t.js";import{T as I,e as P,H as S,N as i,w as e,b2 as E,b1 as F,V as C,W as D,X as N,Y as B,z as L,o,b as t,a as p,c as n,K as x,O as v,t as f,Q as h,J as Q,d as V,_ as R}from"./HgGXboyc.js";import{k as W,g,j as _,h as X,i as T,p as J,r as K,l as O,V as Y,o as $,s as G}from"./Ba4EjnGA.js";import{V as H}from"./0C2KwELn.js";import{V as U}from"./tezgPqRc.js";import{V as Z}from"./yud45zWJ.js";import"./B0QrjFMg.js";import"./DRS-OM4f.js";const ee={key:2},te={class:"d-flex align-center mb-6"},oe={class:"text-h4 font-weight-bold text-blue-grey-darken-4 mr-4"},se={key:0,class:"text-body-1 text-grey-darken-1 mb-6 max-width-800"},ae={class:"d-flex justify-space-between align-start mb-4"},ne=I({__name:"monitoreo-legislativo",setup(re){const{$db:z}=P(),y=L(!0),l=L({descripcion:[],secciones:[]}),M=async()=>{const k="7WAXa5VqudVEzPLsQseb";try{y.value=!0;const s=E(z,"modulos",k),c=await F(s);if(c.exists()){const a=c.data(),d=[],r=C(D(s,"secciones"),N("uid","asc")),u=await B(r);for(const m of u.docs){const b=m.data(),j=C(D(m.ref,"documentos"),N("uid","asc")),q=(await B(j)).docs.map(w=>({id:w.id,...w.data()}));d.push({id:m.id,subtitulo:b.subtitulo,descripcion:b.descripcion,documentos:q,uid:b.uid})}l.value={id:c.id,descripcion:a.descripcion||[],secciones:d}}}catch(s){console.error("Error al cargar monitoreo:",s)}finally{y.value=!1}};return S(()=>{M()}),(k,s)=>{const c=A;return o(),i(W,{class:"min-height-vh py-10"},{default:e(()=>[y.value?(o(),i(g,{key:0,justify:"center",align:"center",class:"py-12"},{default:e(()=>[t(_,{cols:"12",class:"text-center"},{default:e(()=>[t(X,{indeterminate:"",color:"cyan",size:"50"}),s[0]||(s[0]=p("p",{class:"mt-4 text-grey text-overline"},"Consultando base de datos...",-1))]),_:1})]),_:1})):l.value.id?(o(),n("div",ee,[t(g,null,{default:e(()=>[t(_,{cols:"12"},{default:e(()=>[t(c,{color:"#00838F",title:"Monitoreo Legislativo","sub-title":"Transparencia y seguimiento legislativo",icon:"mdi-monitor-eye"}),l.value.descripcion?.length?(o(),i(T,{key:0,variant:"flat",class:"border-thin rounded-xl pa-4 mb-10 bg-grey-lighten-4"},{default:e(()=>[t(J,{class:"text-body-1 text-grey-darken-3"},{default:e(()=>[(o(!0),n(x,null,v(l.value.descripcion,(a,d)=>(o(),n("div",{key:d,class:"mb-2"},f(a.valor),1))),128))]),_:1})]),_:1})):h("",!0)]),_:1})]),_:1}),(o(!0),n(x,null,v(l.value.secciones,(a,d)=>(o(),n("div",{key:a.id,class:"mb-12"},[p("div",te,[p("h2",oe,f(a.subtitulo),1),t(U,{class:"border-opacity-25"})]),a.descripcion?(o(),n("p",se,f(a.descripcion),1)):h("",!0),t(g,null,{default:e(()=>[(o(!0),n(x,null,v(a.documentos,r=>(o(),i(_,{key:r.id,cols:"12",sm:"6",lg:"3"},{default:e(()=>[t(Z,null,{default:e(({isHovering:u,props:m})=>[t(T,Q({ref_for:!0},m,{variant:"outlined",class:["rounded-xl doc-card h-100 transition-all",u?"bg-cyan-lighten-5 border-cyan":"border-grey-lighten-2"],href:r.url,target:"_blank"}),{default:e(()=>[t(K,{class:"pa-5"},{default:e(()=>[p("div",ae,[t(O,{size:"45",color:u?"cyan-darken-2":"grey-lighten-1"},{default:e(()=>[...s[1]||(s[1]=[V(" mdi-file-pdf-box ",-1)])]),_:1},8,["color"]),t(Y,{variant:"tonal",color:u?"cyan-darken-2":"grey",icon:"mdi-download",size:"small"},null,8,["color"])]),t($,{class:"text-subtitle-1 font-weight-bold leading-tight mb-2"},{default:e(()=>[V(f(r.nombre),1)]),_:2},1024),t(G,{class:"text-caption text-wrap line-clamp-3"},{default:e(()=>[V(f(r.descripcion),1)]),_:2},1024)]),_:2},1024)]),_:2},1040,["class","href"])]),_:2},1024)]),_:2},1024))),128)),a.documentos.length===0?(o(),i(_,{key:0,cols:"12"},{default:e(()=>[...s[2]||(s[2]=[p("div",{class:"text-center py-8 border-dashed rounded-xl text-grey"}," No hay documentos disponibles en esta sección. ",-1)])]),_:1})):h("",!0)]),_:2},1024)]))),128))])):(o(),i(g,{key:1,justify:"center"},{default:e(()=>[t(_,{cols:"12",md:"6"},{default:e(()=>[t(H,{type:"info",variant:"tonal",text:"Aún no se cuenta con información de Monitoreo Legislativo.",rounded:"xl",icon:"mdi-information-outline"})]),_:1})]),_:1}))]),_:1})}}}),ge=R(ne,[["__scopeId","data-v-e130b88a"]]);export{ge as default};
